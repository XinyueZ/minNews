<?xml version="1.0" encoding="UTF-8"?>
<project name="custom_rules">
	<target name="build">
		<!--Tasks-->
		<copy file="libs/android-support-v4.jar"
		      todir="libs/ActionBar/library/libs/"
		      overwrite="true"/>
		<echo>android-support-v4.jar -> libs/ActionBar/library/libs/</echo>
		<copy file="libs/android-support-v4.jar"
		      todir="submodules/Android-ViewPagerIndicator/library/libs/"
		      overwrite="true"/>
		<echo>android-support-v4.jar -> submodules/Android-ViewPagerIndicator/library/libs/</echo>

		<!--Application specialized tasks-->
		<replaceregexp match="../../../your/path/to/actionbarsherlock"
		               replace='../../../../libs/ActionBar/library'>
			<fileset dir="submodules/ActionBar-PullToRefresh/extras/actionbarsherlock">
				<include name="project.properties"/>
			</fileset>
		</replaceregexp>
		<echo>Tried replacing location of ActionBar.</echo>
		<antcall target="debug"/>

		<!--After building process.-->
		<echo>After building.</echo>

		<!--Find debug build-->
		<condition property="debug.present">
			<and>
				<available file="${JOB_NAME}-debug.apk" filepath="bin/"/>
				<antcall target="op.debug"/>
			</and>
		</condition>

	</target>

	<target name="op.debug" if="debug.present">
		<echo message="Find debug build."/>
	</target>
</project>